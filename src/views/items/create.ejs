<%- include('../partials/header') %>

    <div class="container my-5 pb-5 w-50 h-100">
        <div class="card p-4">
            <h1 class="text-center">Add New Item</h1>
            <form action="/items" method="POST">
                <div class="mb-3">
                    <label class="form-label">Item Type</label>
                    <select name="itemType" class="form-select" id="itemType" required>
                        <option value="Book">Book</option>
                        <option value="Magazine">Magazine</option>
                    </select>
                </div>
                
                <!-- Common Fields -->
                <div class="mb-3">
                    <label class="form-label">Title</label>
                    <input type="text" name="title" class="form-control" required>
                </div>
    
                <!-- Book-specific Fields -->
                <div class="book-fields">
                    <div class="mb-3">
                        <label class="form-label">Author</label>
                        <input type="text" name="author" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">ISBN</label>
                        <input type="text" name="isbn" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Published Year</label>
                        <input type="number" name="publishedYear" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Genre</label>
                        <input type="text" name="genre" class="form-control" required>
                    </div>
                </div>
    
                <!-- Magazine-specific Fields -->
                <div class="magazine-fields" style="display: none;">
                    <div class="mb-3">
                        <label class="form-label">Publisher</label>
                        <input type="text" name="publisher" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Issue Number</label>
                        <input type="text" name="issueNumber" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Publication Date</label>
                        <input type="date" name="publicationDate" class="form-control">
                    </div>
                </div>
    
                <button type="submit" class="btn btn-primary w-100">Add Item</button>
            </form>
        </div>
    </div>
    
    <script>
    document.getElementById('itemType').addEventListener('change', function() {
        const bookFields = document.querySelector('.book-fields');
        const magazineFields = document.querySelector('.magazine-fields');
        if (this.value === 'Book') {
            bookFields.style.display = 'block';
            magazineFields.style.display = 'none';
            bookFields.querySelectorAll('input').forEach(input => input.required = true);
            magazineFields.querySelectorAll('input').forEach(input => input.required = false);
        } else {
            bookFields.style.display = 'none';
            magazineFields.style.display = 'block';
            magazineFields.querySelectorAll('input').forEach(input => input.required = true);
            bookFields.querySelectorAll('input').forEach(input => input.required = false);
        }
    });
    </script>
    
    <%- include('../partials/footer') %>


